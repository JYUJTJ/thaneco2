<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رمضان كريم | بطاقة تهنئة خاصة</title>
    <!-- Font Awesome للأيقونات (فوانيس, نجوم, هلال) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            min-height: 100vh;
            background: linear-gradient(145deg, #0f2f3b 0%, #1a4e5f 70%, #2c6d7e 100%);
            font-family: 'Amiri', 'Traditional Arabic', 'Scheherazade New', 'Tahoma', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow-x: hidden;
            direction: rtl;
            padding: 15px;
        }
        /* الأيقونات المتطايرة في الخلفية (نجوم وفوانيس) */
        .floating-icons {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 1;
            overflow: hidden;
        }
        .floating-icons i {
            position: absolute;
            color: rgba(255, 230, 140, 0.9);  /* لون ذهبي دافئ */
            user-select: none;
            filter: drop-shadow(0 0 12px #f5b342);
            animation: fadeInOut 10s infinite ease-in-out;
        }

        @keyframes fadeInOut {
            0% { opacity: 0; transform: scale(0.8); }
            20% { opacity: 1; transform: scale(1.1); }
            80% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.8); }
        }

        /* بطاقة رمضان */
        .ramadan-card {
            position: relative;
            z-index: 10;
            max-width: 720px;
            width: 100%;
            background: rgba(20, 40, 45, 0.3);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border: 2px solid rgba(255, 235, 150, 0.6);
            border-radius: 60px 60px 30px 30px;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(250, 215, 120, 0.3) inset, 0 0 40px #f7d45a;
            padding: 35px 30px 45px;
            text-align: center;
        }

        .greeting-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 18px;
        }

        /* صورة الهلال (بنفس الرابط لكن مناسب لرمضان) */
        .moon-image {
            max-width: 280px;
            width: 100%;
            border-radius: 40px;
            background: rgba(255, 255, 240, 0.12);
            padding: 15px 20px 10px;
            box-shadow: 0 0 40px #ffc964;
            border: 1px solid #ffd98c;
            transition: transform 0.4s ease;
        }
        .moon-image:hover {
            transform: scale(1.02);
            box-shadow: 0 0 55px #ffb82e;
        }
        .moon-image img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 0 auto;
            border-radius: 20px;
            filter: drop-shadow(0 8px 15px #00000050);
        }

        .main-greeting {
            font-size: 3.4rem;
            font-weight: 700;
            color: #fff5e0;
            text-shadow: 0 2px 12px #b56f2a, 0 0 25px #f8c150, 2px 4px 0 #6e4120;
            line-height: 1.3;
            margin: 5px 0;
        }
        .main-greeting i {
            color: #ffdf8e;
            font-size: 2.7rem;
            margin: 0 8px;
        }

        /* اسم المرسل: من {{name}} */
        .sender-box {
            background: rgba(30, 50, 45, 0.7);
            backdrop-filter: blur(5px);
            border: 1px solid #facc75;
            border-radius: 60px;
            padding: 5px 30px;
            display: inline-flex;
            align-items: center;
            gap: 10px;
            box-shadow: 0 0 25px #f8b84a;
            margin: 5px 0 15px;
            font-size: 2rem;
        }
        .sender-box span:first-child {
            color: #fcf3da;
            font-size: 1.8rem;
            opacity: 0.9;
        }
        .sender-name {
            font-size: 2.5rem;
            font-weight: bold;
            color: #ffe394;
            background: transparent;
            unicode-bidi: plaintext;
        }

        .blessing-text {
            font-size: 1.9rem;
            color: #fcf3da;
            background: rgba(10, 20, 22, 0.4);
            padding: 15px 25px;
            border-radius: 50px;
            margin: 20px 0 10px;
            line-height: 1.7;
            border: 1px solid #ffcf7e;
            backdrop-filter: blur(4px);
            text-shadow: 0 2px 5px #1f3a3f;
        }
        .blessing-text i {
            color: #ffd880;
            margin: 0 8px;
            font-size: 2rem;
        }

        .decorative-line {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 25px 0 10px;
        }
        .decorative-line i {
            font-size: 2.2rem;
            color: #fad07c;
            text-shadow: 0 0 15px gold;
            opacity: 0.9;
        }
        .decorative-line span {
            width: 80px;
            height: 2px;
            background: radial-gradient(circle, #ffd46b, transparent);
            border-radius: 50%;
        }

        .footer-dua {
            font-size: 1.5rem;
            color: #eedbb5;
            margin-top: 25px;
            background: rgba(0, 0, 0, 0.25);
            padding: 12px 25px;
            border-radius: 40px;
            display: inline-block;
            border: 1px solid #e9bc5d;
        }

        .custom-message {
            font-size: 1.4rem;
            color: #fef7e6;
            margin-top: 15px;
            background: rgba(0, 0, 0, 0.2);
            padding: 12px 25px;
            border-radius: 40px;
            text-align: center;
            border: 1px solid #ffcd7e;
            word-break: break-word;
        }

        @media (max-width: 500px) {
            .ramadan-card { padding: 25px 15px; }
            .main-greeting { font-size: 2.5rem; }
            .sender-box { font-size: 1.5rem; padding: 5px 20px; }
            .sender-name { font-size: 2rem; }
            .blessing-text { font-size: 1.5rem; }
            .custom-message { font-size: 1.2rem; }
        }

        /* صندوق الرسالة المغلق (للضغط) */
        .message-box {
            position: relative;
            z-index: 10;
            max-width: 400px;
            width: 100%;
            background: rgba(25, 45, 50, 0.3);
            backdrop-filter: blur(14px);
            -webkit-backdrop-filter: blur(14px);
            border: 2px solid rgba(255, 235, 150, 0.7);
            border-radius: 40px;
            box-shadow: 0 30px 50px rgba(0, 0, 0, 0.5), 0 0 0 2px rgba(250, 215, 110, 0.3) inset, 0 0 40px #f9cf6b;
            padding: 35px 25px;
            text-align: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .message-box:hover {
            transform: scale(1.05);
            box-shadow: 0 40px 60px rgba(0, 0, 0, 0.6), 0 0 0 3px rgba(255, 225, 100, 0.4) inset, 0 0 55px #fac85a;
        }
        .envelope {
            font-size: 5rem;
            color: #fff2d2;
            margin-bottom: 20px;
            text-shadow: 0 2px 15px #d48d2b;
        }
        .message-text {
            font-size: 2rem;
            color: #fff2d2;
            text-shadow: 0 2px 12px #d48d2b;
        }
        .message-text i {
            color: #ffd880;
            margin: 0 10px;
        }

        /* زر العودة */
        .back-button-container {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 20;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
        }
        .back-button {
            background: rgba(20, 45, 50, 0.4);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 2px solid rgba(255, 235, 140, 0.7);
            border-radius: 50px;
            padding: 10px 25px;
            color: #fef7e6;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            text-shadow: 0 2px 5px #1f3a3f;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .back-button:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.4);
        }
        .back-button i {
            margin-left: 8px;
            color: #ffdb8e;
        }

        /* توقيع المطور صغير */
        .credit {
            color: #fff2d2;
            text-shadow: 0 2px 8px #b56f2a;
            font-size: 1.1rem;
            background: rgba(0, 0, 0, 0.2);
            padding: 5px 18px;
            border-radius: 40px;
            border: 1px solid #ffcd7e;
            backdrop-filter: blur(4px);
        }
    </style>
    <!-- خط عربي -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
</head>
<body>

    <!-- الأيقونات المتطايرة في الخلفية - فوانيس ونجوم وهلال صغير -->
    <div class="floating-icons">
        <i class="fas fa-star" style="top:3%; left:12%; font-size:3.2rem; animation-delay: 0s;"></i>
        <i class="fas fa-moon" style="top:10%; left:80%; font-size:4rem; animation-delay: 1s;"></i>
        <i class="fas fa-star" style="top:18%; left:30%; font-size:2.5rem; animation-delay: 2s;"></i>
        <i class="fas fa-lantern" style="top:28%; left:60%; font-size:3.5rem; animation-delay: 0.8s;"></i>
        <i class="fas fa-star" style="top:40%; left:15%; font-size:3rem; animation-delay: 3s;"></i>
        <i class="fas fa-moon" style="top:48%; left:70%; font-size:4.2rem; animation-delay: 1.8s;"></i>
        <i class="fas fa-lantern" style="top:58%; left:40%; font-size:3rem; animation-delay: 4s;"></i>
        <i class="fas fa-star" style="top:65%; left:85%; font-size:2.8rem; animation-delay: 2.5s;"></i>
        <i class="fas fa-moon" style="top:75%; left:22%; font-size:3.8rem; animation-delay: 5s;"></i>
        <i class="fas fa-lantern" style="top:82%; left:55%; font-size:3.3rem; animation-delay: 3.2s;"></i>
        <i class="fas fa-star" style="top:90%; left:5%; font-size:2.6rem; animation-delay: 6s;"></i>
        <i class="fas fa-lantern" style="top:95%; left:75%; font-size:3.6rem; animation-delay: 4.5s;"></i>
        <i class="fas fa-star" style="top:25%; left:92%; font-size:3.7rem; animation-delay: 5.5s;"></i>
        <i class="fas fa-moon" style="top:52%; left:8%; font-size:4.5rem; animation-delay: 6.2s;"></i>
        <i class="fas fa-star" style="top:70%; left:48%; font-size:3.1rem; animation-delay: 7s;"></i>
        <i class="fas fa-lantern" style="top:35%; left:45%; font-size:3.9rem; animation-delay: 7.8s;"></i>
    </div>

    <!-- صندوق الرسالة المغلق (اضغط للفتح) -->
    <div id="message-box" class="message-box" onclick="openMessage()">
        <div class="envelope">
            <i class="fas fa-envelope-open-text"></i>
        </div>
        <div class="message-text">
            <i class="fas fa-star"></i> اضغط هنا لفتح التهنئة <i class="fas fa-star"></i>
        </div>
    </div>

    <!-- بطاقة تهنئة رمضان (مخفية في البداية) -->
    <div class="ramadan-card" id="eid-card" style="display: none;">
        <div class="greeting-container">
            <!-- صورة الهلال (رمضان) -->
            <div class="moon-image">
                <img src="https://png.pngtree.com/png-clipart/20230317/original/pngtree-arabic-ramadan-kareem-calligraphy-ramadhan-greeting-text-lettering-sticker-ramazan-mubarak-png-image_8994053.png" 
                     alt="رمضان كريم - هلال">
            </div>

            <!-- عنوان رئيسي: رمضان كريم -->
            <div class="main-greeting">
                <i class="fas fa-lantern"></i> رمضان كريم <i class="fas fa-lantern"></i>
            </div>

            <!-- اسم المرسل: من {{name}} -->
            <div class="sender-box">
                <span>من</span>
                <span class="sender-name" id="sender-name-display">{{name}}</span> <!-- سيتم تحديثه ديناميكياً -->
            </div>

            <!-- تهنئة رمضانية دافئة -->
            <div class="blessing-text" id="defaultBlessing">
                <i class="fas fa-heart"></i> 
                كل عام وأنتم بخير، بلغكم الله رمضان وأعانكم على الصيام والقيام، وتقبل طاعاتكم
                <i class="fas fa-heart"></i>
            </div>

            <!-- زخارف -->
            <div class="decorative-line">
                <i class="fas fa-star"></i><span></span><i class="fas fa-lantern"></i><span></span><i class="fas fa-star"></i>
            </div>

            <!-- الرسالة الإضافية (يدخلها المستخدم) -->
            <div class="custom-message" id="custom-message-display">
                <i class="fas fa-star"></i> {{message}} <i class="fas fa-star"></i>
            </div>

            <!-- زخارف -->
            <div class="decorative-line">
                <i class="fas fa-star"></i><span></span><i class="fas fa-lantern"></i><span></span><i class="fas fa-star"></i>
            </div>

            <!-- دعاء ختامي رمضاني -->
            <div class="footer-dua">
                <i class="fas fa-hands-praying"></i> اللهم اجعلنا من عتقائك من النار في هذا الشهر <i class="fas fa-hands-praying"></i>
            </div>
        </div>
    </div>

    <audio style="display: none;">
        <source src="ramdan.mp3" type="audio/mpeg">
        متصفحك لا يدعم تشغيل الصوت.
    </audio>

    <!-- شريط سفلي: زر العودة وتوقيع -->
    <div class="back-button-container">
        <div class="credit">
            <i class="fas fa-star"></i> تصميم: أ. عمرو أحمد محمد <i class="fas fa-star"></i>
        </div>
        <button class="back-button" onclick="window.location.href='index.html'">
            <i class="fas fa-plus-circle"></i> أنشئ تهنئة باسمك
        </button>
    </div>

    <script>
        // دالة فتح الرسالة واستخراج المعاملات من الرابط (مثل name و message)
        function openMessage() {
            // إخفاء صندوق الرسالة المغلق
            document.getElementById('message-box').style.display = 'none';
            // إظهار بطاقة رمضان
            const card = document.getElementById('eid-card');
            card.style.display = 'block';

            // محاولة قراءة المعاملات من URL (مثال: ?name=محمد&message=رمضان مبارك)
            const urlParams = new URLSearchParams(window.location.search);
            let senderName = urlParams.get('name');
            let customMsg = urlParams.get('message');

            // إذا لم يوجد name في الرابط، نضع اسم افتراضي
            if (!senderName) {
                senderName = 'الصائم';
            }
            // تحديث اسم المرسل
            document.getElementById('sender-name-display').textContent = senderName;

            // تحديث الرسالة الإضافية
            const msgDisplay = document.getElementById('custom-message-display');
            if (customMsg) {
                // نضيف أيقونات حول الرسالة
                msgDisplay.innerHTML = `<i class="fas fa-star"></i> ${customMsg} <i class="fas fa-star"></i>`;
            } else {
                msgDisplay.innerHTML = `<i class="fas fa-star"></i> تقبل الله صيامك وقيامك <i class="fas fa-star"></i>`;
            }

            // إضافة تأثير صوتي اختياري (صامت لأن المتصفح قد يمنع التشغيل التلقائي بدون تفاعل)
            // نكتفي بتجربة إن وجد عنصر صوت لكننا لا نملك ملفاً حقيقياً.
            // لو كان هناك صوت حقيقي يمكن تفعيله هنا.
        }

        // فتح تلقائي إذا كان هناك مرسل أو رسالة (اختياري) — نفضل تركها للضغط على الصندوق
        // لكن لو أردنا أن نفتح مباشرة عند تحميل الصفحة إذا وجدت parameters (مثلاً عند العودة من الصفحة الرئيسية)
        // يمكن تفعيل ذلك، ولكن الأجمل أن يضغط المستخدم لفتح الرسالة.
        window.onload = function() {
            // نتحقق إذا كان هناك اسم أو رسالة في الرابط، لكن نبقي الصندوق مغلقاً حتى يضغط المستخدم.
            // (يمكن فتح تلقائي إذا أردنا، لكن يفضل التفاعل)
            // فقط في حالة وجود معامل معين، نغير النص الافتراضي دون فتح.
            const urlParams = new URLSearchParams(window.location.search);
            const nameParam = urlParams.get('name');
            const msgParam = urlParams.get('message');

            // إذا كان المستخدم قادماً من الصفحة الرئيسية، نظهر له الصندوق المغلق كما هو،
            // لكن يمكن تحديث المحتوى الافتراضي لاسم المرسل داخل الصندوق المغلق؟ ليس ضرورياً.
            // لكن سنقوم بتخزين بارامترات حتى إذا فتح البطاقة تظهر بشكل صحيح.
            // لا نحتاج تخزين لأن openMessage ستقرأ البارامترات مباشرة من الرابط.
            // هذا جيد.
        };

        // ملاحظة: الرابط يفترض أن يكون مثل: ?name=أحمد&message=أسأل الله أن يتقبل صيامنا
        // والصفحة الرئيسية (index.html) يجب أن ترسل بنفس البارامترات.
    </script>

</body>
</html>